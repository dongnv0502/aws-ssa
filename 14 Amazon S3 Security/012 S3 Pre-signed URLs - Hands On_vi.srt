1
00:00:00,250 --> 00:00:02,719
Giờ hãy demo S3 pre-signed URL.

2
00:00:02,719 --> 00:00:03,600
Tôi sẽ lấy

3
00:00:03,600 --> 00:00:05,930
một bucket tôi biết không public.

4
00:00:05,930 --> 00:00:07,890
Tôi chọn coffee.jpg chẳng hạn,

5
00:00:07,890 --> 00:00:10,690
bạn có thể chọn ảnh nào cũng được.

6
00:00:10,690 --> 00:00:11,640
Hãy xem.

7
00:00:11,640 --> 00:00:14,700
Ta biết ảnh này là private

8
00:00:14,700 --> 00:00:18,270
vì nếu tôi mở object URL,

9
00:00:18,270 --> 00:00:19,440
tôi bị từ chối truy cập.

10
00:00:19,440 --> 00:00:21,020
URL công khai này

11
00:00:21,020 --> 00:00:24,270
không hoạt động vì bucket không public.

12
00:00:24,270 --> 00:00:27,130
Nhưng nếu tôi nhấn Open ở đây,

13
00:00:27,130 --> 00:00:28,680
nó mở tab mới

14
00:00:28,680 --> 00:00:30,970
và ảnh vẫn hiện, tại sao?

15
00:00:30,970 --> 00:00:34,940
Vì phần đầu URL giống như trước,

16
00:00:34,940 --> 00:00:38,420
nhưng phía sau

17
00:00:38,420 --> 00:00:40,740
là đoạn pre-signed URL.

18
00:00:40,740 --> 00:00:43,740
URL này được ký bằng credential của tôi

19
00:00:43,740 --> 00:00:47,420
cho phép tôi truy cập ảnh.

20
00:00:47,420 --> 00:00:49,370
Vậy làm sao tạo

21
00:00:49,370 --> 00:00:51,460
pre-signed URL cho mọi người?

22
00:00:51,460 --> 00:00:53,950
Có hai cách: dùng CLI

23
00:00:53,950 --> 00:00:56,590
hoặc

24
00:00:56,590 --> 00:00:58,430
tạo từ console.

25
00:00:58,430 --> 00:01:00,140
Nếu bạn nhấn Object actions,

26
00:01:00,140 --> 00:01:03,650
chọn share a pre-signed URL.

27
00:01:03,650 --> 00:01:06,540
Nó báo mọi người có thể truy cập object

28
00:01:06,540 --> 00:01:08,630
bằng URL này cho tới khi hết hạn,

29
00:01:08,630 --> 00:01:11,620
dù bucket và object là private.

30
00:01:11,620 --> 00:01:14,450
Ta chọn ảnh này

31
00:01:14,450 --> 00:01:16,530
và đặt thời gian phút hoặc giờ.

32
00:01:16,530 --> 00:01:18,730
Tôi đặt rằng nó có hiệu lực

33
00:01:18,730 --> 00:01:21,170
trong 5 phút.

34
00:01:21,170 --> 00:01:24,090
Rồi bấm Create pre-signed URL.

35
00:01:24,090 --> 00:01:28,030
URL đã được tạo và tôi có thể chia sẻ cho ai

36
00:01:28,030 --> 00:01:31,100
họ nhập, bấm Enter

37
00:01:31,100 --> 00:01:34,240
và truy cập ảnh.

38
00:01:34,240 --> 00:01:36,660
Rất hữu ích nếu bạn muốn chia sẻ

39
00:01:36,660 --> 00:01:40,260
một số file trong S3 nhanh chóng

40
00:01:40,260 --> 00:01:42,060
và đảm bảo URL sẽ hết hạn

41
00:01:42,060 --> 00:01:43,930
để bảo mật tối đa.

42
00:01:43,930 --> 00:01:45,240
Vậy là xong.

43
00:01:45,240 --> 00:01:48,190
Hy vọng bạn thích, hẹn gặp ở bài tiếp theo.

