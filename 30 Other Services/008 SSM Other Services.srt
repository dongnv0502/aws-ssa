1
00:00:00,300 --> 00:00:02,940
So let's talk about some other services

2
00:00:02,940 --> 00:00:05,850
within the Systems Manager service that can come up

3
00:00:05,850 --> 00:00:08,370
at one question at the exam maybe.

4
00:00:08,370 --> 00:00:09,960
So if you don't understand everything,

5
00:00:09,960 --> 00:00:12,840
just remember the general idea out of these.

6
00:00:12,840 --> 00:00:14,910
So the first one is run command

7
00:00:14,910 --> 00:00:16,770
and it's used to execute a document,

8
00:00:16,770 --> 00:00:19,080
therefore a script or just one command.

9
00:00:19,080 --> 00:00:22,290
And these commands are run on multiple instances

10
00:00:22,290 --> 00:00:23,280
using resource groups.

11
00:00:23,280 --> 00:00:27,720
And these instances are EC2 instances or on-premises servers

12
00:00:27,720 --> 00:00:30,600
that are registered with the Systems Manager service

13
00:00:30,600 --> 00:00:33,060
because, well, the agent is running on them.

14
00:00:33,060 --> 00:00:35,970
So for this, when we run the command, no need for SSH.

15
00:00:35,970 --> 00:00:37,950
This is using the same mechanism

16
00:00:37,950 --> 00:00:39,870
as we saw for Session Manager.

17
00:00:39,870 --> 00:00:42,330
It just runs them through the agents.

18
00:00:42,330 --> 00:00:45,120
And then any output of the command through the run command

19
00:00:45,120 --> 00:00:48,030
can be sent to S3 or to CloudWatch Logs.

20
00:00:48,030 --> 00:00:51,900
And then in case you have any kind of failures,

21
00:00:51,900 --> 00:00:53,520
then they will be sent into SNS.

22
00:00:53,520 --> 00:00:56,220
So you can have in-progress, success, failed and so on.

23
00:00:56,220 --> 00:00:59,130
All these updates can be sent into SNS.

24
00:00:59,130 --> 00:01:01,920
You have full integration with IAM for security

25
00:01:01,920 --> 00:01:04,860
and CloudTrail to see who run what commands.

26
00:01:04,860 --> 00:01:07,200
And then, of course, there is some automation out of it.

27
00:01:07,200 --> 00:01:10,890
So EventBridge can directly run a run command.

28
00:01:10,890 --> 00:01:14,430
So we have EC2 instances or on-premises servers

29
00:01:14,430 --> 00:01:16,980
and they're managed with the SSM Agent.

30
00:01:16,980 --> 00:01:20,250
And then very simply, we're going to run a command on them

31
00:01:20,250 --> 00:01:23,310
using the run command feature of Sessions Manager.

32
00:01:23,310 --> 00:01:26,310
The output can be sent to Amazon S3 or to CloudWatch Logs.

33
00:01:26,310 --> 00:01:29,640
Any kind of status notifications is sent to Amazon SNS.

34
00:01:29,640 --> 00:01:32,280
And it can be triggered either by us, the user,

35
00:01:32,280 --> 00:01:34,593
or automatically using EventBridge.

36
00:01:35,610 --> 00:01:37,260
Another one is called Patch Manager.

37
00:01:37,260 --> 00:01:39,240
So as the name indicates, it's very simple.

38
00:01:39,240 --> 00:01:40,980
It's used to automate the process

39
00:01:40,980 --> 00:01:43,140
of patching managed instances.

40
00:01:43,140 --> 00:01:46,350
So this is being used to apply operating system updates,

41
00:01:46,350 --> 00:01:48,630
application updates, security updates.

42
00:01:48,630 --> 00:01:50,700
It supports, of course, your EC2 instances

43
00:01:50,700 --> 00:01:52,710
and on-premises servers.

44
00:01:52,710 --> 00:01:55,350
And it supports Linux, Mac, and Windows.

45
00:01:55,350 --> 00:01:57,990
So you can patch either on-demand, so right away,

46
00:01:57,990 --> 00:02:00,090
or you can have a schedule of patches

47
00:02:00,090 --> 00:02:02,220
using what's called a maintenance window

48
00:02:02,220 --> 00:02:05,220
where your instances are ready to be patched.

49
00:02:05,220 --> 00:02:08,580
Now also within Patch Manager, you can scan your instances

50
00:02:08,580 --> 00:02:11,009
and you can generate a patch compliance report

51
00:02:11,009 --> 00:02:13,830
to find if all your instances are patched correctly

52
00:02:13,830 --> 00:02:17,850
and find if anyone or anything is missing a patch.

53
00:02:17,850 --> 00:02:20,340
So again, from either the console, the SDK,

54
00:02:20,340 --> 00:02:21,510
or a maintenance window,

55
00:02:21,510 --> 00:02:23,490
we're going to invoke the Patch Manager.

56
00:02:23,490 --> 00:02:24,690
And for this, it's called

57
00:02:24,690 --> 00:02:28,080
the AWS-RunPatchBaseline run command.

58
00:02:28,080 --> 00:02:30,570
And it's going to patch all of my EC2 instances

59
00:02:30,570 --> 00:02:33,783
and then we can find a report within Patch Manager.

60
00:02:34,770 --> 00:02:35,970
So I mentioned maintenance windows,

61
00:02:35,970 --> 00:02:37,950
but let's just do a deep dive on them.

62
00:02:37,950 --> 00:02:39,630
So it's used to define a schedule

63
00:02:39,630 --> 00:02:42,780
of when to perform actions on your instances.

64
00:02:42,780 --> 00:02:45,510
So for example, you want to define a maintenance window

65
00:02:45,510 --> 00:02:48,000
to do OS patching or updating drivers

66
00:02:48,000 --> 00:02:50,520
or installing software or whatever you want.

67
00:02:50,520 --> 00:02:52,380
And when you define a maintenance window,

68
00:02:52,380 --> 00:02:53,790
you contain a schedule.

69
00:02:53,790 --> 00:02:56,670
So when is it going to be triggered?

70
00:02:56,670 --> 00:02:58,440
A duration, so for how long?

71
00:02:58,440 --> 00:03:01,290
What instances is this maintenance window applying to?

72
00:03:01,290 --> 00:03:02,123
That makes sense.

73
00:03:02,123 --> 00:03:04,290
And finally, what tasks will be run

74
00:03:04,290 --> 00:03:05,940
during this maintenance window?

75
00:03:05,940 --> 00:03:07,890
And so therefore, the maintenance window, for example,

76
00:03:07,890 --> 00:03:11,070
can be triggered every 24 hour to run the command

77
00:03:11,070 --> 00:03:14,010
to update or to patch my EC2 instances,

78
00:03:14,010 --> 00:03:16,593
but you can be very creative with it as well.

79
00:03:17,730 --> 00:03:19,320
Next we have Automation.

80
00:03:19,320 --> 00:03:22,050
So Automation is used to simplify the common maintenance

81
00:03:22,050 --> 00:03:26,700
and deployment task on EC2 instances or other AWS resources.

82
00:03:26,700 --> 00:03:28,650
For example, you would use an automation

83
00:03:28,650 --> 00:03:31,200
to restart many instances at a time

84
00:03:31,200 --> 00:03:35,760
or to create an AMI or to create EBS snapshots and so on.

85
00:03:35,760 --> 00:03:37,950
So you would have an Automation Runbook.

86
00:03:37,950 --> 00:03:42,120
They represent SSM documents and they are predefined actions

87
00:03:42,120 --> 00:03:45,990
on your EC2 instances or your resources on AWS.

88
00:03:45,990 --> 00:03:49,440
So these runbooks will be used by the SSM Automation

89
00:03:49,440 --> 00:03:51,900
to execute some actions on EC2 instances,

90
00:03:51,900 --> 00:03:54,030
for example, restart them all,

91
00:03:54,030 --> 00:03:57,000
or to execute actions on your resources on AWS,

92
00:03:57,000 --> 00:04:01,320
for example, take snapshots of all my RDS databases.

93
00:04:01,320 --> 00:04:04,170
So this can be triggered using the console, the SDK,

94
00:04:04,170 --> 00:04:06,900
or the CLI, Amazon EventBridge,

95
00:04:06,900 --> 00:04:11,520
or the Maintenance Windows or as well AWS Config.

96
00:04:11,520 --> 00:04:13,170
So there's an integration such as

97
00:04:13,170 --> 00:04:18,170
if Config finds that a resource is non-compliant,

98
00:04:18,959 --> 00:04:21,540
then we can have a remediation automatically

99
00:04:21,540 --> 00:04:23,700
to run an SSM Automation

100
00:04:23,700 --> 00:04:26,730
and try to remediate this non-compliant resource.

101
00:04:26,730 --> 00:04:29,310
So that's it for this lecture, I hope you liked it

102
00:04:29,310 --> 00:04:31,383
and I will see you in the next lecture.

