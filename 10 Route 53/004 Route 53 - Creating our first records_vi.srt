1
00:00:00,350 --> 00:00:01,370
Giờ hãy tạo

2
00:00:01,370 --> 00:00:04,800
các record đầu tiên trong Route 53.

3
00:00:04,800 --> 00:00:06,910
Tôi sẽ vào hosted zone của mình,

4
00:00:06,910 --> 00:00:09,960
và ở đó tôi tạo vài record đơn giản.

5
00:00:09,960 --> 00:00:10,793
Cùng xem nhé.

6
00:00:10,793 --> 00:00:13,660
Chúng ta nhấn để tạo một record.

7
00:00:13,660 --> 00:00:15,990
Ở đây, tôi nhập record name.

8
00:00:15,990 --> 00:00:19,720
Ta muốn là test.stephanetheteacher.com.

9
00:00:19,720 --> 00:00:21,240
Bạn có thể nhập gì cũng được.

10
00:00:21,240 --> 00:00:23,730
Đây là cách bạn tạo các domain name.

11
00:00:23,730 --> 00:00:25,920
Bây giờ cần chọn loại record.

12
00:00:25,920 --> 00:00:28,150
Có rất nhiều loại record,

13
00:00:28,150 --> 00:00:29,360
nhưng ta sẽ giữ đơn giản.

14
00:00:29,360 --> 00:00:31,120
Chọn A record.

15
00:00:31,120 --> 00:00:34,000
Loại này dùng để trỏ host name

16
00:00:34,000 --> 00:00:36,870
tới một địa chỉ IPv4.

17
00:00:36,870 --> 00:00:38,530
Giá trị (answer) sẽ là

18
00:00:38,530 --> 00:00:42,100
1.1.22.33.44 (11.22.33.44).

19
00:00:42,100 --> 00:00:44,150
Đây chỉ là một giá trị ví dụ,

20
00:00:44,150 --> 00:00:46,760
không phải IP chúng ta sở hữu,

21
00:00:46,760 --> 00:00:48,720
chỉ để minh hoạ ngẫu nhiên.

22
00:00:48,720 --> 00:00:52,690
Sau này chúng ta sẽ trỏ tới một EC2 instance thực.

23
00:00:52,690 --> 00:00:53,523
Được rồi.

24
00:00:53,523 --> 00:00:54,356
TTL (time to live)

25
00:00:54,356 --> 00:00:55,860
để 300 giây.

26
00:00:55,860 --> 00:00:57,220
Routing policy

27
00:00:57,220 --> 00:00:59,900
chúng ta sẽ tìm hiểu sau.

28
00:00:59,900 --> 00:01:02,690
Giờ cứ để Simple routing. Được chứ.

29
00:01:02,690 --> 00:01:04,739
Tạo record này.

30
00:01:06,240 --> 00:01:08,920
Record đã được tạo thành công.

31
00:01:08,920 --> 00:01:12,860
Ý tưởng là: nếu tôi truy cập test.stephanetheteacher.com,

32
00:01:12,860 --> 00:01:16,040
nó sẽ hỏi hosted zone của tôi.

33
00:01:16,040 --> 00:01:18,060
Giá trị là gì? Và hosted zone sẽ trả lời

34
00:01:18,060 --> 00:01:21,083
rằng giá trị là 11.22.33.44.

35
00:01:22,270 --> 00:01:24,960
Nếu bạn thử mở bằng trình duyệt,

36
00:01:24,960 --> 00:01:27,440
mở trình duyệt và nhấn Enter,

37
00:01:27,440 --> 00:01:28,940
thì có thể không thấy gì

38
00:01:28,940 --> 00:01:30,850
vì hiện tại 11.22.33.44

39
00:01:30,850 --> 00:01:34,626
có lẽ không có server nào chạy ở IP đó.

40
00:01:38,110 --> 00:01:40,510
Nếu chỉ truy cập URL, nó sẽ không hoạt động. Được chứ.

41
00:01:42,040 --> 00:01:44,830
Vậy hãy xem chuyện gì diễn ra ở phía sau.

42
00:01:44,830 --> 00:01:46,910
Chúng ta sẽ gõ một vài lệnh.

43
00:01:46,910 --> 00:01:48,240
Bạn có thể dùng terminal của mình

44
00:01:48,240 --> 00:01:50,550
trên Windows hoặc Mac,

45
00:01:50,550 --> 00:01:53,240
nhưng để mọi người theo dõi giống tôi,

46
00:01:53,240 --> 00:01:54,823
tôi sẽ làm trong CloudShell của AWS.

47
00:01:57,270 --> 00:01:59,339
Mở Management Console,

48
00:01:59,339 --> 00:02:03,020
nhấn mở CloudShell,

49
00:02:03,020 --> 00:02:06,680
CloudShell cho phép gõ lệnh trong môi trường Linux chuẩn.

50
00:02:09,280 --> 00:02:10,113
Nếu bạn thích,

51
00:02:10,113 --> 00:02:12,620
cũng có thể dùng terminal của mình trên Windows/Mac.

52
00:02:14,480 --> 00:02:16,620
Terminal đã sẵn sàng.

53
00:02:16,620 --> 00:02:17,730
Nếu bạn dùng Windows,

54
00:02:17,730 --> 00:02:20,400
lệnh nslookup sẽ hoạt động. Trên Mac,

55
00:02:20,400 --> 00:02:22,800
lệnh dig cũng hoạt động.

56
00:02:22,800 --> 00:02:24,630
Nhưng như bạn thấy, các lệnh này

57
00:02:24,630 --> 00:02:26,060
chưa có trong CloudShell.

58
00:02:26,060 --> 00:02:26,970
Ta cần cài đặt chúng.

59
00:02:26,970 --> 00:02:30,360
Chạy: sudo yum install -y bind-utils

60
00:02:34,540 --> 00:02:36,680
Lệnh này sẽ cài cả nslookup

61
00:02:36,680 --> 00:02:39,360
và dig trong CloudShell.

62
00:02:39,360 --> 00:02:41,160
Xoá màn hình.

63
00:02:41,160 --> 00:02:44,190
Giờ thử nslookup

64
00:02:44,190 --> 00:02:48,940
test.stephanetheteacher.com

65
00:02:48,940 --> 00:02:51,410
Bạn sẽ thấy câu trả lời

66
00:02:51,410 --> 00:02:54,709
test.stephanetheteacher.com

67
00:02:54,709 --> 00:02:56,580
trỏ tới 11.22.33.44,

68
00:02:56,580 --> 00:03:00,380
đúng với những gì ta cấu hình ở đây.

69
00:03:01,540 --> 00:03:04,180
Tôi thích lệnh dig hơn một chút

70
00:03:04,180 --> 00:03:05,700
vì quen thuộc hơn;

71
00:03:05,700 --> 00:03:08,440
chỉ cần gõ dig và URL của bạn,

72
00:03:09,820 --> 00:03:11,020
rồi Enter.

73
00:03:14,940 --> 00:03:16,980
Nếu gõ sai, hãy xoá màn hình

74
00:03:16,980 --> 00:03:19,780
và gõ lại đúng tên miền.

75
00:03:20,750 --> 00:03:24,500
Bạn sẽ thấy phần Answer Section

76
00:03:24,500 --> 00:03:29,080
ghi: test.stephanetheteacher.com là A record,

77
00:03:29,080 --> 00:03:31,660
và đây là giá trị của record. Tôi thích hiển thị này

78
00:03:31,660 --> 00:03:34,400
vì thấy được TTL (như ta sẽ xem sau),

79
00:03:34,400 --> 00:03:36,905
và thấy rõ đó là A record.

80
00:03:39,100 --> 00:03:42,100
Như vậy ta đã tạo record đầu tiên trong Route 53

81
00:03:42,100 --> 00:03:44,830
và có thể truy vấn nó bằng terminal.

82
00:03:44,830 --> 00:03:45,680
Rất ổn.

83
00:03:45,680 --> 00:03:49,016
Tất nhiên mở bằng trình duyệt chưa chạy được,

84
00:03:49,016 --> 00:03:51,720
nhưng ta sẽ làm được khi có server thật.

85
00:03:51,720 --> 00:03:53,330
Hy vọng bạn thích bài này,

86
00:03:53,330 --> 00:03:54,380
hẹn gặp ở bài tiếp theo.

