1
00:00:00,530 --> 00:00:04,170
Được rồi, bây giờ hãy bàn sâu về IAM policies.

2
00:00:04,170 --> 00:00:06,850
Giả sử ta có một nhóm developers:

3
00:00:06,850 --> 00:00:09,020
Alice, Bob và Charles, và chúng ta

4
00:00:09,020 --> 00:00:12,610
gắn một policy ở cấp độ group.

5
00:00:12,610 --> 00:00:14,410
Khi đó, policy sẽ được áp dụng

6
00:00:14,410 --> 00:00:16,270
cho mọi thành viên trong group,

7
00:00:16,270 --> 00:00:18,920
vì vậy cả Alice, Bob và Charles

8
00:00:18,920 --> 00:00:22,693
đều sẽ được cấp quyền và thừa hưởng policy này.

9
00:00:23,540 --> 00:00:25,360
Giờ, nếu có group thứ hai là Operations

10
00:00:25,360 --> 00:00:26,660
với một policy khác,

11
00:00:26,660 --> 00:00:28,440
David và Edward sẽ có policy khác

12
00:00:28,440 --> 00:00:30,370
so với nhóm Developers.

13
00:00:30,370 --> 00:00:32,740
Nếu Fred là một user,

14
00:00:32,740 --> 00:00:35,210
thì có thể không thuộc bất kỳ group nào.

15
00:00:35,210 --> 00:00:36,880
Và chúng ta có thể tạo cái gọi là

16
00:00:36,880 --> 00:00:38,820
inline policy — một policy

17
00:00:38,820 --> 00:00:40,960
chỉ gắn trực tiếp vào user.

18
00:00:40,960 --> 00:00:42,790
User đó có thể thuộc group hoặc không,

19
00:00:42,790 --> 00:00:46,150
bạn vẫn có thể tạo inline policies cho bất kỳ user nào.

20
00:00:46,150 --> 00:00:48,810
Cuối cùng, nếu Charles và David cùng thuộc

21
00:00:48,810 --> 00:00:51,870
nhóm Audit và bạn gắn một policy cho Audit team,

22
00:00:51,870 --> 00:00:54,600
thì Charles và David cũng sẽ thừa hưởng

23
00:00:54,600 --> 00:00:56,010
policy từ Audit team.

24
00:00:56,010 --> 00:00:58,850
Như vậy Charles có policy từ Developers

25
00:00:58,850 --> 00:01:00,510
và một policy từ Audit team.

26
00:01:00,510 --> 00:01:02,230
Còn David có policy từ Audit team

27
00:01:02,230 --> 00:01:04,629
và policy từ Operations team.

28
00:01:04,629 --> 00:01:05,700
Điều này sẽ rất dễ hiểu

29
00:01:05,700 --> 00:01:07,610
khi chúng ta thực hành.

30
00:01:07,610 --> 00:01:09,470
Về cấu trúc của policy,

31
00:01:09,470 --> 00:01:11,320
bạn chỉ cần nắm tổng quan cách hoạt động

32
00:01:11,320 --> 00:01:12,670
và cách đặt tên.

33
00:01:12,670 --> 00:01:15,500
Đây là thứ bạn sẽ gặp rất nhiều trong AWS,

34
00:01:15,500 --> 00:01:17,770
nên hãy làm quen với cấu trúc này —

35
00:01:17,770 --> 00:01:19,390
đây là tài liệu JSON.

36
00:01:19,390 --> 00:01:21,520
Cấu trúc một IAM policy gồm có

37
00:01:21,520 --> 00:01:24,880
Version — thường là 2012-10-17,

38
00:01:24,880 --> 00:01:27,290
đây là phiên bản ngôn ngữ policy.

39
00:01:27,290 --> 00:01:30,970
ID — cách định danh policy, mục này là tùy chọn.

40
00:01:30,970 --> 00:01:31,880
Và một hoặc nhiều Statements.

41
00:01:31,880 --> 00:01:33,480
Statements có thể là một hoặc nhiều,

42
00:01:33,480 --> 00:01:36,200
và mỗi Statement có các phần rất quan trọng.

43
00:01:37,980 --> 00:01:41,570
Sid — Statement ID, định danh cho statement, tùy chọn;

44
00:01:41,570 --> 00:01:43,190
ví dụ bên phải là số 1.

45
00:01:43,190 --> 00:01:45,780
Effect — hiệu lực của policy, cho biết

46
00:01:45,780 --> 00:01:50,150
statement này Allow hay Deny quyền truy cập vào một số API.

47
00:01:50,150 --> 00:01:53,820
Ví dụ bên phải là Allow, nhưng bạn cũng có thể thấy Deny.

48
00:01:57,950 --> 00:02:02,170
Principal — gồm accounts, user hoặc role

49
00:02:02,170 --> 00:02:05,450
đối tượng mà policy này được áp dụng.

50
00:02:05,450 --> 00:02:08,289
Trong ví dụ, nó áp dụng cho root account

51
00:02:08,289 --> 00:02:10,610
của AWS account của bạn.

52
00:02:10,610 --> 00:02:13,240
Action — danh sách các API calls sẽ bị

53
00:02:13,240 --> 00:02:16,460
Allow hoặc Deny dựa trên Effect.

54
00:02:16,460 --> 00:02:19,570
Resource — danh sách tài nguyên

55
00:02:19,570 --> 00:02:22,140
mà các Action sẽ áp dụng vào.

56
00:02:22,140 --> 00:02:24,020
Trong ví dụ, đó là một bucket,

57
00:02:24,020 --> 00:02:25,780
nhưng có thể là nhiều thứ khác.

58
00:02:25,780 --> 00:02:27,790
Cuối cùng — phần này không minh họa ở đây —

59
00:02:27,790 --> 00:02:29,850
là Condition, điều kiện quyết định khi nào

60
00:02:29,850 --> 00:02:32,590
statement nên được áp dụng; nó là tùy chọn.

61
00:02:35,200 --> 00:02:36,840
Khi đi thi, bạn cần nắm thật chắc

62
00:02:36,840 --> 00:02:39,440
Effect, Principal, Action và Resource; đừng lo,

63
00:02:39,440 --> 00:02:41,210
bạn sẽ gặp chúng xuyên suốt khóa học,

64
00:02:41,210 --> 00:02:43,590
nên đến cuối khóa bạn sẽ tự tin về chúng.

65
00:02:45,460 --> 00:02:46,520
Đó là tất cả cho bài này.

66
00:02:46,520 --> 00:02:48,100
Hẹn gặp bạn ở bài tiếp theo.

