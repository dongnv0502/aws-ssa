1
00:00:00,300 --> 00:00:02,100
Như bạn biết, CloudFront có thể

2
00:00:02,100 --> 00:00:05,010
truy cập bất kỳ backend HTTP tùy chỉnh nào.

3
00:00:05,010 --> 00:00:07,230
Điều này bao gồm cả một EC2 instance

4
00:00:07,230 --> 00:00:09,330
hoặc một Application Load Balancer.

5
00:00:09,330 --> 00:00:11,640
Giả sử chúng ta đã xây dựng một HTTP backend

6
00:00:11,640 --> 00:00:13,680
trên một EC2 instance

7
00:00:13,680 --> 00:00:16,230
và chúng ta muốn người dùng truy cập nó qua CloudFront.

8
00:00:16,230 --> 00:00:17,280
Làm sao thực hiện?

9
00:00:17,280 --> 00:00:20,280
Họ sẽ truy cập các edge location của CloudFront

10
00:00:20,280 --> 00:00:22,590
và các edge location này sẽ gửi yêu cầu

11
00:00:22,590 --> 00:00:24,600
đến các EC2 instance của chúng ta.

12
00:00:24,600 --> 00:00:28,470
Vì vậy các EC2 instance phải là public,

13
00:00:28,470 --> 00:00:30,780
nếu không edge location sẽ không thể

14
00:00:30,780 --> 00:00:32,549
truy cập vào EC2 instance

15
00:00:32,549 --> 00:00:36,000
vì CloudFront không có kết nối VPC riêng

16
00:00:36,000 --> 00:00:37,260
trong CloudFront.

17
00:00:37,260 --> 00:00:40,500
Do đó chúng ta cũng phải có security group

18
00:00:40,500 --> 00:00:43,500
cho phép danh sách toàn bộ IP public

19
00:00:43,500 --> 00:00:46,050
của các edge location CloudFront

20
00:00:46,050 --> 00:00:48,870
để đảm bảo bảo mật tương thích và hoạt động.

21
00:00:48,870 --> 00:00:52,110
Bạn có thể tìm danh sách các IP CloudFront này

22
00:00:52,110 --> 00:00:54,090
tại URL này.

23
00:00:54,090 --> 00:00:55,470
Đó là mô hình đầu tiên.

24
00:00:55,470 --> 00:00:58,410
Mô hình thứ hai là dùng Application Load Balancer.

25
00:00:58,410 --> 00:01:00,870
Nó cũng phải là public

26
00:01:00,870 --> 00:01:04,080
và các EC2 instance phía sau có thể là private

27
00:01:04,080 --> 00:01:07,080
vì có kết nối VPC riêng

28
00:01:07,080 --> 00:01:11,220
giữa Application Load Balancer và các EC2 instance.

29
00:01:11,220 --> 00:01:12,053
Chúng ta chỉ cần đảm bảo

30
00:01:12,053 --> 00:01:14,250
security group của EC2 instance

31
00:01:14,250 --> 00:01:17,310
cho phép security group của load balancer.

32
00:01:17,310 --> 00:01:21,000
Do đó người dùng sẽ truy cập các edge location

33
00:01:21,000 --> 00:01:23,550
và các IP public của edge location

34
00:01:23,550 --> 00:01:27,540
phải được phép trong security group của ALB

35
00:01:27,540 --> 00:01:30,240
để đảm bảo kết nối được thiết lập.

36
00:01:30,240 --> 00:01:31,920
Được rồi, vậy là hết bài giảng này.

37
00:01:31,920 --> 00:01:34,870
Hy vọng bạn thích và hẹn gặp lại ở bài giảng tiếp theo.

